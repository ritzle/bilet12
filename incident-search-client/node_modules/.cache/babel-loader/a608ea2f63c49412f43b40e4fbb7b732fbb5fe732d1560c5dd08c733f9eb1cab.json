{"ast":null,"code":"var _jsxFileName = \"/home/vladislav/studies/TIMP/ecz/12/incident-search-client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [threatMin, setThreatMin] = useState(\"\");\n  const [threatMax, setThreatMax] = useState(\"\");\n  const [incidents, setIncidents] = useState([]);\n  const [error, setError] = useState(null);\n  const handleSearch = async () => {\n    setError(null);\n    try {\n      const params = new URLSearchParams();\n      if (threatMin) params.append(\"threat_min\", threatMin);\n      if (threatMax) params.append(\"threat_max\", threatMax);\n      const response = await fetch(`http://127.0.0.1:5000/incidents/search?${params.toString()}`);\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.error || \"Ошибка запроса\");\n      }\n      const data = await response.json();\n      setIncidents(data);\n    } catch (err) {\n      setError(err.message);\n      setIncidents([]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0438\\u043D\\u0446\\u0438\\u0434\\u0435\\u043D\\u0442\\u043E\\u0432 \\u043F\\u043E \\u0443\\u0440\\u043E\\u0432\\u043D\\u044E \\u0443\\u0433\\u0440\\u043E\\u0437\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0443\\u043C \\u0443\\u0433\\u0440\\u043E\\u0437\\u044B:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: threatMin,\n          onChange: e => setThreatMin(e.target.value),\n          placeholder: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0443\\u043C \\u0443\\u0433\\u0440\\u043E\\u0437\\u044B:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: threatMax,\n          onChange: e => setThreatMax(e.target.value),\n          placeholder: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"\\u041D\\u0430\\u0439\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: incidents.map(inc => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"#\", inc.id, \" - \", inc.description, \" (\\u0423\\u0433\\u0440\\u043E\\u0437\\u0430: \", inc.threat_level, \")\"]\n      }, inc.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"d/t+mG3iC9pPhUCM6stBltj7/kA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","threatMin","setThreatMin","threatMax","setThreatMax","incidents","setIncidents","error","setError","handleSearch","params","URLSearchParams","append","response","fetch","toString","ok","errData","json","Error","data","err","message","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","color","map","inc","id","description","threat_level","_c","$RefreshReg$"],"sources":["/home/vladislav/studies/TIMP/ecz/12/incident-search-client/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction App() {\n  const [threatMin, setThreatMin] = useState(\"\");\n  const [threatMax, setThreatMax] = useState(\"\");\n  const [incidents, setIncidents] = useState([]);\n  const [error, setError] = useState(null);\n\n  const handleSearch = async () => {\n    setError(null);\n    try {\n      const params = new URLSearchParams();\n      if (threatMin) params.append(\"threat_min\", threatMin);\n      if (threatMax) params.append(\"threat_max\", threatMax);\n\n      const response = await fetch(`http://127.0.0.1:5000/incidents/search?${params.toString()}`);\n      if (!response.ok) {\n        const errData = await response.json();\n        throw new Error(errData.error || \"Ошибка запроса\");\n      }\n      const data = await response.json();\n      setIncidents(data);\n    } catch (err) {\n      setError(err.message);\n      setIncidents([]);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 400, margin: \"auto\" }}>\n      <h2>Поиск инцидентов по уровню угрозы</h2>\n      <div>\n        <label>\n          Минимум угрозы:{\" \"}\n          <input\n            type=\"number\"\n            value={threatMin}\n            onChange={(e) => setThreatMin(e.target.value)}\n            placeholder=\"0\"\n          />\n        </label>\n      </div>\n      <div>\n        <label>\n          Максимум угрозы:{\" \"}\n          <input\n            type=\"number\"\n            value={threatMax}\n            onChange={(e) => setThreatMax(e.target.value)}\n            placeholder=\"10\"\n          />\n        </label>\n      </div>\n      <button onClick={handleSearch}>Найти</button>\n\n      {error && <p style={{ color: \"red\" }}>Ошибка: {error}</p>}\n\n      <ul>\n        {incidents.map((inc) => (\n          <li key={inc.id}>\n            #{inc.id} - {inc.description} (Угроза: {inc.threat_level})\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}